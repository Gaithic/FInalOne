title = "Scholarship Examination"
url = "/scholarship-examination/:category"
layout = "default"
is_hidden = 0
==
<?php
function onStart(){
    $this['category'] = $this->param('category');
}

function onEnd() {
    $category = $this->param('category');
    $this->page->title = ($category == "ntse") ? "NTSE" : (($category == "nmms")  ? "NMMS" : "SJMMSE");
}
?>
==

 <div class="card mb-4">
    <div class="card-body">
        {% if category == "ntse" %}
            <h4 class="card-title">National Talent Search Examination (NTSE)</h4>
            <p class="card-text"><i class="fa fa-star"></i> National Talent Search Examination (NTSE) is a national level exam conducted by the National Council of Educational Research and Training (NCERT) for granting scholarships to meritorious students studying in class 10th.</p>
            
        {% elseif category == "nmms" %}
            <h4 class="card-title">National Means-cum-Merit Scholarship Scheme (NMMSS)</h4>
            <p class="card-text"><i class="fa fa-star"></i> National Means-cum-Merit Scholarship Scheme (NMMSS) scheme is to award scholarships to meritorious students of economically weaker sections to arrest their drop out at class VIII and encourage them to continue the study at secondary stage</p>

        {% else %}
            <h4 class="card-title">Swaran Jayanti Middle Merit Scholarship (SJMMS)</h4>
            <p class="card-text"><i class="fa fa-star"></i> Swaran Jayanti Middle Merit Scholarship (SJMMS). This scheme is started for the praiseworthy students of class 6th, 7th, 8th standard of government schools. Under this scheme, financial aid will be given to the students.</p>

        {% endif  %}
    </div>
</div>

<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th width="70%">Title</th>
                <th>Date</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <h4 class="category_id" hidden>{{ category_id }}</h4>
</div>

{% put styles %}
    <link href="{{ 'assets/css/jquery.dataTables.min.css'|theme }}" rel="stylesheet">
{% endput %}

{% put scripts %}
<script src="{{ [
    'assets/js/jquery.min.js',
    'assets/js/jquery.dataTables.min.js',
] |theme }}">

</script>


<script type="text/javascript">
    $(function () {
        var id= $(".category_id").text();
        var table = $('.table').DataTable({
            processing: true,
            serverSide: true,
            ajax: "/announcement-examination-list/{{ category }}",
            columns: [
                {data: 'title', name: 'title', render:function(data, type, row){
                    if(row.is_open_file == 0){
                        return "<a href='/announcement-detail/"+row.slug+"' target='_blank'>" + row.title + " </a>"
                    }else{
                        return "<a href='/storage/app/media/"+row.file+"' target='_blank'>" + row.title + "</a> "
                    }

                }},
                {data: 'date', name: 'date'},
                {data: 'action', name: 'action', orderable: false, searchable: false, width: "15%"},
          ]
        });
    });


</script>
{% endput %}