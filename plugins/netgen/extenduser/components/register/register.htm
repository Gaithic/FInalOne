<div class="col-md-6 wow animated fadeInRight" data-wow-delay=".2s"></div>
    {% flash %}
    <p
        data-control="flash-message"
        class="flash-message fade {{ type }}"
        data-interval="5">
        {{ message }}
    </p>
    {% endflash %}
    <div id="success" class="text-success"></div>
    <div id="error" class="text-danger"></div>
        <div class="form-group">
            <label for="registerName">Full Name</label>
            <input
                name="name"
                type="text"
                class="form-control"
                id="name"
                placeholder="Enter your full name" required/>
        </div>


        <div class="form-group">
            <label for="registerPassword">Father Name</label>
            <input
                name="fathername"
                type="text"
                class="form-control"
                id="fathername"
                placeholder="Enter Your Father Name" required/>
        </div>

        <div class="form-group">
            <label for="registerPassword">Mother Name</label>
            <input
                name="mothername"
                type="text"
                class="form-control"
                id="mothername"
                placeholder="Enter Your Mother Name" required/>
        </div>

        <div class="form-group">
            <label for="registerEmail">Email</label>
            <input
                name="email"
                type="email"
                class="form-control"
                id="email"
                placeholder="Enter your email" required/>
        </div>

        <div id="emailError" ></div>

        <div class="form-group">
            <label for="registerEmail">Gender</label>
            <select
                name="gender"
                type="type"
                class="form-control"
                id="gender"
                placeholder="Enter your email" required>
            <option value="">Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="others">Other</option>
        </select>
        </div>

                
        <div class="form-group">
            <label for="registerPassword">Mobile</label>
            <input
                name="contact"
                type="text"
                class="form-control"
                id="mobile"
                placeholder="Enter Your Contact Number.." required/>
        </div>

        <div id="phoneError" ></div>

        {# <button type="submit" class="btn btn-primary" id="sendOtp">Send OTP</button>

        <div class="form-group" id="otpLabel">
            <label for="registerEmail">OTP</label>
            <input
                name="otp"
                type="number"
                class="form-control"
                id="otp"
                placeholder="Enter your OTP" />
        </div>
        
        <div id="error"></div>

        {# <button type="submit" class="btn btn-primary" id="verifyOtp">Verify OTP</button> #}
        <button type="submit" class="btn btn-primary" id="register">Register</button>
</div>

<script>
    $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }
    })
    $(document).ready(function(){
        $('#success').hide();
        $('#error').hide();
        $('#register').on('click', function(){
            var email = $('#email').val();
            var mobile = $('#mobile').val();
            var name = $('#name').val();
            var fathername = $('#fathername').val();
            var mothername = $('#mothername').val();
            var gender = $('#gender').val();
            $.ajax({
                url:"/register-user",
                data: {
                    email: email,
                    mobile: mobile,
                    name: name,
                    fathername: fathername,
                    mothername: mothername,
                    gender: gender
                },
                success:function(data){
                    if(data.success == 'emailError'){
                        $('#success').empty();
                        $('#error').empty();
                        $('#success').hide();
                        $('#error').hide();
                        $('#emailError').empty();
                        $('#phoneError').empty();
                        $('#emailError').show();
                        $('#phoneError').show();
                        $('#emailError').append('<p class="text-danger">'+data.check+'</p>');
                    }else{
                        if(data.success == 'phoneError'){
                            $('#success').empty();
                            $('#error').empty();
                            $('#success').hide();
                            $('#error').hide();
                            $('#emailError').empty();
                            $('#phoneError').empty();
                            $('#emailError').hide();
                            $('#phoneError').show();
                            $('#phoneError').append('<p class="text-danger">'+data.phoneError+'</p>');
                        }else{
                            $('#emailError').hide();
                            $('#phoneError').hide();
                            if(data.success){
                                $('#success').empty();
                                $('#success').show();
                                $('#error').hide();
                                $('#success').append('<p>' + data.success + '</p>')
                            }else{
                                $('#error').empty();
                                $('#error').show();
                                $('#success').hide();
                                $('#error').append('<p>' + data.error + '</p>')
                            }
                        }
                        
                    }
                }
            })
            
        })
    })
</script>


